#summary UEFI: Boot kernel directly by UEFI

= Introduction =

UEFI can boot the kernel directly. efibootmgr provides a convenient way to add the options to UEFI.

= efibootmgr =

*Simply adding new boot options to UEFI with efibootmgr is nice - but only works if the kernel was booted through UEFI.*<br/>

This assumes booting through UEFI to a Pentoo installation (by pentoo-installer) on a hard disk (/dev/sda3).<br/>
The EFI boot partition is on /dev/sda1.
{{{
modprobe efivars
efibootmgr -v   #watch the output
}}}
Then run this monster:
{{{
echo "real_root=/dev/sda3 initrd=\initramfs-genkernel-x86_64-3.5.4-pentoo" | \
iconv -f ascii -t ucs2 | \
efibootmgr --create --gpt \
--disk /dev/sda --part 1 \
--label "Pentoo 2012b3" \
--loader "\\kernel-genkernel-x86_64-3.5.4-pentoo" \
--append-binary-args -
}}}
_with the last trailing "-"!_<br/>

Now there should be a new boot option in UEFI GUI labelled "Pentoo 2012b3".<br/>
Here it's even set as default boot option now.