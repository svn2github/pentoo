diff -Naur compat-wireless-2.6.30-rc6/Makefile compat-wireless-2.6.30-rc6-hackedup/Makefile
--- compat-wireless-2.6.30-rc6/Makefile	2009-05-17 17:48:36.000000000 -0400
+++ compat-wireless-2.6.30-rc6-hackedup/Makefile	2009-05-21 02:09:05.000000000 -0400
@@ -3,7 +3,7 @@
 ifneq ($(origin $(KLIB)), undefined)
 KMODPATH_ARG:=  "INSTALL_MOD_PATH=$(KLIB)"
 else
-export KLIB:=          /lib/modules/$(shell uname -r)
+export KLIB:=          $(DESTDIR)/lib/modules/$(shell uname -r)
 endif
 export KLIB_BUILD ?=	$(KLIB)/build
 # Sometimes not available in the path
@@ -59,19 +59,20 @@
 	@md5sum $(COMPAT_CONFIG) > $(CONFIG_CHECK)
 
 install: uninstall modules
-	$(MAKE) -C $(KLIB_BUILD) M=$(PWD) $(KMODDIR_ARG) $(KMODPATH_ARG) \
+	$(MAKE) -C /lib/modules/$(shell uname -r)/build M=$(PWD) $(KMODDIR_ARG) $(KMODPATH_ARG) \
 		modules_install
 	@# All the scripts we can use
-	@mkdir -p /usr/lib/compat-wireless/
-	@install scripts/modlib.sh	/usr/lib/compat-wireless/
-	@install scripts/madwifi-unload	/usr/sbin/
+	@mkdir -p $(DESTDIR)/usr/lib/compat-wireless/
+	@install scripts/modlib.sh	$(DESTDIR)/usr/lib/compat-wireless/
+	@mkdir -p $(DESTDIR)/usr/sbin/
+	@install scripts/madwifi-unload	$(DESTDIR)/usr/sbin/
 	@# This is to allow switching between drivers without blacklisting
-	@install scripts/athenable	/usr/sbin/
-	@install scripts/b43enable	/usr/sbin/
-	@install scripts/iwl-enable	/usr/sbin/
-	@install scripts/athload	/usr/sbin/
-	@install scripts/b43load	/usr/sbin/
-	@install scripts/iwl-load	/usr/sbin/
+	@install scripts/athenable	$(DESTDIR)/usr/sbin/
+	@install scripts/b43enable	$(DESTDIR)/usr/sbin/
+	@install scripts/iwl-enable	$(DESTDIR)/usr/sbin/
+	@install scripts/athload	$(DESTDIR)/usr/sbin/
+	@install scripts/b43load	$(DESTDIR)/usr/sbin/
+	@install scripts/iwl-load	$(DESTDIR)/usr/sbin/
 	@if [ ! -z $(MADWIFI) ]; then \
 		echo ;\
 		echo -n "Note: madwifi detected, we're going to disable it. "  ;\
@@ -79,7 +80,7 @@
 		echo "    sudo athenable madwifi"  ;\
 		echo ;\
 		echo Running athenable ath5k...;\
-		/usr/sbin/athenable ath5k ;\
+#		/usr/sbin/athenable ath5k ;\
 	fi
 	@if [ ! -z $(OLD_IWL) ]; then \
 		echo ;\
@@ -88,7 +89,7 @@
 		echo "    sudo iwl-load iwl4965"  ;\
 		echo ;\
 		echo Running iwl-enable iwlagn...;\
-		/usr/sbin/iwl-enable iwlagn ;\
+#		/usr/sbin/iwl-enable iwlagn ;\
 	fi
 	@# If on distributions like Mandriva which like to
 	@# compress their modules this will find out and do
@@ -96,7 +97,7 @@
 	@# won't know mac80211.ko should be used instead of
 	@# mac80211.ko.gz
 	@./scripts/compress_modules
-	@/sbin/depmod -ae
+#	@/sbin/depmod -ae
 	@echo
 	@echo "Currently detected wireless subsystem modules:"
 	@echo 
@@ -158,7 +159,7 @@
 	@rm -f $(KLIB)/$(KMODDIR)/drivers/misc/eeprom/eeprom_93cx6.ko*
 	@rm -f $(KLIB)/$(KMODDIR)/drivers/misc/eeprom_93cx6.ko*
 	@rm -f $(KLIB)/$(KMODDIR)/drivers/net/b44.ko*
-	@/sbin/depmod -ae
+#	@/sbin/depmod -ae
 	@echo
 	@echo "Your old wireless subsystem modules were left intact:"
 	@echo 
